---
title: "Spell Query Rewrite API Configurations"
description: "Fusion Query Rewrite APIs"
permalink: "d2zpj9"
---

This query rewrite configuration is used in the [Query Rewrite API](/fusion/5.9/547/query-rewrite-api).

For a complete list of rule and rewrite types in the Query Rewrite API, see [Query Rewrite API Configurations](/fusion/5.9/zwbf6z/query-rewrite-api-configurations).

For more information, [view the API specification.](?open-api=true)

## Spell

The Misspelling Detection feature maps misspellings to their corrected spellings. When Fusion receives a query containing a known misspelling, it rewrites the query using the corrected spelling in order to return relevant results instead of an empty or irrelevant results set.

Spelling corrections are applied in the [Text Tagger stage](/fusion/5.9/520/text-tagger-stage) of the query pipeline.

### General information

* Endpoint: `https://FUSION_HOST:FUSION_PORT/api/apps/APP_NAME/query-rewrite/schema/RULE_TYPE`
* Required parameter is: type
* The values for the `hints` parameter include:

  + `hidden`: Do not display in the Fusion UI, but can be read and written in the schema.
  + `readonly`: Cannot be set by the user. If attempted, an error is generated and the operation fails.

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="2"><strong>type</strong></td>
</tr>
<tr>
<td><strong>type</strong></td>
<td>string</td>
</tr>
<tr>
<td colspan="2"><strong>properties</strong></td>
</tr>
<tr>
<td><strong>confidence</strong></td>
<td>

```json
"confidence": {
  "type": "number",
  "title": "Confidence",
  "description": "Confidence score from the misspelling job.",
  "default": 1.0
}
```

  </td>
</tr>
<tr>
  <td><strong>id</strong></td>
  <td>

```json
"id": {
  "type": "string",
  "title": "ID",
  "description": "The ID for this Rule. Used in the API to reference this query rewrite rule. Allowed characters: a-z, A-Z, 0-9, dash (-) and underscore (_)",
  "maxLength": 128,
  "pattern": "^[A-Za-z0-9_\\-]+$"
}
```

  </td>
</tr>
<tr>
  <td><strong>source</strong></td>
  <td>

```json
"source": {
  "type": "string",
  "title": "Source",
  "description": "The source for this query rewrite rule, such as a Spark Job.",
  "hints": [
    "hidden"
  ]
}
```

  </td>
</tr>
<tr>
  <td><strong>sourceType</strong></td>
  <td>

```json
"sourceType": {
  "type": "string",
  "title": "Source Type",
  "description": "Source type",
  "hints": [
    "hidden"
  ]
}
```

  </td>
</tr>
<tr>
  <td><strong>createdOn</strong></td>
  <td>

```json
"createdOn": {
  "type": "string",
  "title": "Created Date/Time",
  "description": "Date/Time this rule was created.",
  "format": "date-time"
}
```

  </td>
</tr>
<tr>
  <td><strong>updatedOn</strong></td>
  <td>

```json
"updatedOn": {
  "type": "string",
  "title": "Updated Date/Time",
  "description": "Date/Time this rule was last updated.",
  "format": "date-time"
}
```

  </td>
</tr>
<tr>
  <td><strong>reviewer</strong></td>
  <td>

```json
"reviewer": {
  "type": "string",
  "title": "Reviewer",
  "description": "Who reviewed this rewrite rule.",
  "hints": [
    "hidden"
  ]
}
```

  </td>
</tr>
<tr>
  <td><strong>reviewedOn</strong></td>
  <td>

```json
"reviewedOn": {
  "type": "string",
  "title": "Reviewed Date/Time",
  "description": "Date/Time this rule was last reviewed.",
  "hints": [
    "hidden"
  ],
  "format": "date-time"
}
```

  </td>
</tr>
<tr>
  <td><strong>review</strong></td>
  <td>

```json
"review": {
  "type": "string",
  "title": "Review",
  "enum": [
    "approved",
    "denied"
  ],
  "default": "approved",
  "hints": [
    "readonly"
  ]
}
```

  </td>
</tr>
<tr>
  <td><strong>deployed</strong></td>
  <td>

```json
"deployed": {
  "type": "boolean",
  "title": "Deployed Flag",
  "description": "Flag to indicate if this rewrite rule has been deployed.",
  "hints": [
    "hidden"
  ]
}
```

  </td>
</tr>
<tr>
  <td><strong>tags</strong></td>
  <td>

```json
"tags": {
  "type": "array",
  "title": "Tags",
  "description": "Conditional tags to restrict the triggering of this query rewrite rule.",
  "items": {
    "type": "string"
  }
}
```

  </td>
</tr>
<tr>
  <td><strong>surface_form</strong></td>
  <td>

```json
"surface_form": {
  "type": "string",
  "title": "Misspelled Term"
}
```

  </td>
</tr>
<tr>
  <td><strong>output</strong></td>
  <td>

```json
"output": {
  "type": "array",
  "title": "Corrected Term",
  "items": {
    "type": "string"
  }
}
```

  </td>
</tr>
<tr>
  <td><strong>action</strong></td>
  <td>

```json
"action": {
  "type": "string",
  "title": "Action",
  "description": "Action to perform",
  "enum": [
    "expand",
    "replace"
  ]
}
```

  </td>
</tr>
<tr>
  <td><strong>type</strong><br/><strong>Required</strong></td>
  <td>

```json
"type": {
  "type": "string",
  "title": "Type",
  "enum": [
    "spell"
  ],
  "default": "spell",
  "hints": [
    "readonly"
  ]
}
```

  </td>
</tr>
<tr>
  <td><strong>doc_type</strong></td>
  <td>

```json
"doc_type": {
  "type": "string",
  "title": "Doc Type",
  "enum": [
    "query_rewrite"
  ],
  "default": "query_rewrite",
  "hints": [
    "readonly"
  ]
}
```

  </td>
</tr>
 <tr>
  <td colspan="2"><strong>additionalProperties</strong></td>
</tr>
<tr>
  <td><strong>additionalProperties</strong></td>
  <td>

```json
"additionalProperties": true
```

  </td>
</tr>

</tbody>
</table>