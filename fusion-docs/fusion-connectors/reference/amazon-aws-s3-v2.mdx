---
title: "AWS S3 V2"
description: "Connector Configuration Reference"
permalink: "8851"
---

Latest version: v1.4.2

Compatible with Fusion version: 5.9.0 and later

The AWS S3 V2 connector crawls items in a single bucket. You must specify the **bucket name** and **AWS region** in which that bucket is located.

You may crawl specific items in a bucket. If no items are specified, the entire bucket will be crawled.

<Tip>
When entering configuration values in the UI, use *unescaped* characters, such as `\t` for the tab character. When entering configuration values in the API, use *escaped* characters, such as `\\t` for the tab character.
</Tip>



This connector includes an option to **Enable Stray Content Deletion**. When stray content deletion is enabled, content that was removed from the data source is deleted from the index in Fusion. When stray content deletion is disabled, content that was removed from the datasource is not deleted from the index in Fusion.

## Required permissions

The connector requires `ListBucket` and `GetObject` permissions.

The following is an IAM policy example. When you set permissions, replace `bucketname` with the value used in your implementation.

```yaml
"Statement": [
         {
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::bucketname/*"
            ],
            "Effect": "Allow"
        },
        {
            "Action": [
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::bucketname"
            ],
            "Effect": "Allow"
        }
]

```

## Retry logic

The `retryCount` field sets the number of times the S3 client connection should retry when a document fails to index. Issues with AWS connectivity might result in the S3 connector being unable to crawl all of the data. The default for this field is retrying three times. If you are having trouble with AWS connectivity, try setting this field to a higher value, for example, `10` retries.

## Remote connectors

V2 connectors support [running remotely](/fusion-connectors/8xhsoc/remote-v-2-connectors) in Fusion versions 5.7.1 and later. Refer to [Configure Remote V2 Connectors](/how-to/ssl8ue/configure-remote-v-2-connectors).

Below is an example configuration showing how to specify the file system to index under the `connector-plugins` entry in your `values.yaml` file:

```yaml
additionalVolumes:
- name: fusion-data1-pvc
    persistentVolumeClaim:
    claimName: fusion-data1-pvc
- name: fusion-data2-pvc
    persistentVolumeClaim:
    claimName: fusion-data2-pvc
additionalVolumeMounts:
- name: fusion-data1-pvc
    mountPath: "/connector/data1"
- name: fusion-data2-pvc
    mountPath: "/connector/data2"

```

You may also need to specify the user that is authorized to access the file system, as in this example:

```yaml
securityContext:
    fsGroup: 1002100000
    runAsUser: 1002100000

```

## Configuration

import {SchemaParamFields} from "/snippets/SchemaParamFields.mdx";
import {schema} from "/snippets/configuration-schema/connectors/connectors-lucidworks-s3.mdx";

<SchemaParamFields schema={schema}/>

