---
title: "Async Prediction API"
description: "Lucidworks AI"
permalink: "55ug0f"
---

View API specification

The Lucidworks AI Async Prediction API is used to send asynchronous API calls that run predictions on specific models.

The Lucidworks AI Async Prediction API contains two requests:

* POST request - submits a prediction task for a specific `useCase` and `modelId`. The API responds with the following information:

  + `predictionId`. A unique UUID for the submitted prediction task that can be used later to retrieve the results.
  + `status`. The current state of the prediction task.
* GET request - uses the `predictionId` you submit from a previously-submitted POST request and returns the results associated with that previous request.

The LWAI Async Prediction API supports models hosted by Lucidworks and specific third-party models. The [Lucidworks AI Use Case API](/lw-platform/ai/0stpyb/use-case-api) returns a list of all supported models. For more information about supported models, see [Generative AI models](/lw-platform/ai/r7ai90/generative-ai#generative-ai-models).

You can enter the values returned in the Lucidworks AI Use Case API for the `USE_CASE` and `MODEL_ID` fields in the `/async-prediction` use case POST requests.

The generic path for the Async Prediction API is [`/ai/async-prediction/USE_CASE/MODEL_ID`](#async-prediction-use-case-by-modelid).

<Note>

To view the full configuration specification for an API, click the **View API specification** button.

<Frame>![view api spec](/assets/images/view-api-spec.png)</Frame>

Alternatively, [click here to open the API spec](?open-api=true).

</Note>



## Prerequisites

To use this API, you need:

* The unique `APPLICATION_ID` for your Lucidworks AI application. For more information, see [credentials to use APIs](/lw-platform/platform/oqzogo/apis-and-credentials#credentials).
* A bearer token generated with a scope value of `machinelearning.predict`. For more information, see [Authentication API](/lw-platform/ai/oa96k5/authentication-api).
* Other required fields specified in each individual use case.

## Common POST request parameters and fields

Some parameters in the `/ai/async-prediction/USE_CASE/MODEL_ID` POST request are common to all of the generative AI (GenAI) use cases, such as the `modelConfig` parameter.
Also referred to as hyperparameters, these fields set certain controls on the response.
Refer to the [API spec](?open-api=true) for more information.

## Async prediction use case by modelid

The `/ai/async-prediction/USE_CASE/MODEL_ID` request submits a prediction task for a specific `useCase` and `modelId`. Upon submission, a successful response includes a unique `predictionId` and a `status`. The `predictionId` can be used later in the GET request to retrieve the results.

<Tip>
**Important**


Unique fields and values in the request are described in each [use case](#async-prediction-api-use-cases).
</Tip>



### Example POST request

```bash
curl --request POST \
  --url https://APPLICATION_ID.applications.lucidworks.com/ai/async-prediction/USE_CASE/MODEL_ID \
  --header 'Accept: application/json' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Bearer ACCESS_TOKEN'
  --data '{
  "batch": [
    {
      "text": "Content for the model to analyze."
    }
  ],
  "useCaseConfig": [
    {
      "useSystemPrompt": true
    }
  ],
  "modelConfig": [
    {
      "temperature": 0.8,
      "topP": 1,
      "presencePenalty": 2,
      "frequencyPenalty": 1,
      "maxTokens": 1
    }
  ]
}'

```

The following is an example of a successful response:

```json
{
	"predictionId": "fd110486-f168-47c0-a419-1518a4840589",
	"status": "SUBMITTED"
}

```

The following is an example of an error response:

```json
{
	"predictionId": "fd110486-f168-47c0-a419-1518a4840589",
	"status": "ERROR",
	"message": "System prompt exceeded the maximum number of allowed input tokens: 81 vs -1091798"
}

```

### Example GET request

```bash
curl --request GET
--url https://APPLICATION_ID.applications.lucidworks.com/ai/async-prediction/PREDICTION_ID
--header 'Authorization: Bearer Auth '

```

The response varies based on the specific use case and the fields included in the request.

## Async Prediction API use cases

The use cases available in the Lucidworks AI Async Prediction API are detailed in the following topics:

* [Pass-through use case](/lw-platform/ai/xvnhrc/pass-through-use-case)
* [Retrieval augmented generation (RAG) use case](/lw-platform/ai/6u8kow/retrieval-augmented-generation-rag-use-case)
* [Standalone query rewriter use case](/lw-platform/ai/87yn4g/standalone-query-rewriter-use-case)
* [Summarization use case](/lw-platform/ai/jj0bed/summarization-use-case)
* [Keyword extraction use case](/lw-platform/ai/937meo/keyword-extraction-use-case)
* [Named entity recognition (NER) use case](/lw-platform/ai/48b92g/named-entity-recognition-use-case)