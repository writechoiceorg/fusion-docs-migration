---
title: "Managed Fusion 5.9.13"
description: "June 17, 2025"
permalink: "f0ekix"
---

Managed Fusion 5.9.13 is a [maintenance release](/policies/7shln5/lucidworks-version-support-lifecycle#maintenance-release-support-policy) that introduces
advanced SKU grouping with Solr collapse, and compatibility with Kubernetes 1.32.
Managed Fusion 5.9.13 also improves authentication resilience with a configurable JWT timeout, and resolves key scheduling and security bugs to ensure greater stability and compliance in enterprise environments.

<Tip>
For supported Kubernetes versions and key component versions, see [Platform support and component versions](#platform-versions).
</Tip>

## Key highlights

### Expanded support for collapsed search results

Now Managed Fusion gives you access to all of the available Solr settings for collapsing search results, giving you finer control over how Managed Fusion groups variations of each item into a single search result.
You can use collapse to improve conversion rates and customer satisfaction by streamlining search results, reducing cognitive load, and surfacing the most relevant product variations first.

For example, you can use a `product_id` field as the collapse field to group all versions or SKUs of a product into a single search result.
You can also control how Managed Fusion selects the variation that represents the collapsed group; the default is the one most relevant to the user’s query.
For example, a user who searches for "red shoes" sees all of the red variations of shoes first, with the option to drill down and see all the variations.

<Frame>![Products collapsed by product_id with the red SKU selected](/assets/images/5.9/collapse-products.png)</Frame>

Additional capabilities include:

* **Faceting compatibility**: Facets can reflect counts based on collapsed groups instead of individual SKUs.
* **Sorting options**: Choose how the representative SKU is selected using sort fields like `sales_rank` or `popularity_score`.
* **Expand support**: Optional expansion of collapsed groups allows users to see all SKUs for a product on demand.
* **Commerce Studio integration**: Merchandising actions such as pinning, boosting, and burying now apply to the entire product group, not just individual SKUs.
* **Query Workbench support**: You can preview collapsed and expanded result sets directly in Query Workbench for easy validation.

This update eliminates the need for custom collapse implementations and makes SKU/product rollup behavior a first-class capability in Managed Fusion.

For complete details about the new configuration options, see the [Query Fields stage](/managed-fusion/5.9/iv9chb/query-fields) configuration reference.

### Kubernetes 1.32 support for better security and long-term compatibility

Managed Fusion 5.9.13 introduces full compatibility with Kubernetes version 1.32, ensuring seamless deployment and operation on the latest Kubernetes platforms.
This update allows you to take advantage of the latest stability, performance, and security improvements in Kubernetes, including better control over sidecar container behavior and improvements to admission webhooks and scheduling logic.

By supporting Kubernetes 1.32, Managed Fusion stays aligned with cloud provider upgrades and helps future-proof your infrastructure.

### Improved JWT authentication resilience with configurable timeout

Managed Fusion now allows you to configure the `jwkSetTimeout` variable in the JWT Realm settings, enabling better control over how long Managed Fusion waits for a response when retrieving a JSON Web Key (JWK) set.
This improves authentication reliability in environments where key providers may respond slowly.
By increasing the default 500 ms timeout as needed (for example, to 2000 ms), you can reduce the risk of failed authentication due to network latency or external service delays.

You can configure this in the Managed Fusion UI under the **System > Access Control > Security Realms** tab.

### Configurable vector quantization method in LWAI pipeline stages

Managed Fusion 5.9.13 adds vector quantization in certain Lucidworks AI (LWAI) pipeline stages, making it easier to reduce memory usage and accelerate vector search without sacrificing quality.
Quantization converts high-precision float vectors into compact 8-bit integer vectors, significantly lowering storage and compute costs.

Now you can choose between min-max or max-scale quantization methods directly in the pipeline configuration interface for the LWAI vectorization stages:

* [LWAI Vectorize Field Index stage](/managed-fusion/5.9/4h364i/lwai-vectorize-field)
* [LWAI Vectorize Query Stage](/managed-fusion/5.9/uxpzzw/lwai-vectorize-query)

To select the quantization method, go to **Model Config** in the LWAI pipeline stage configuration and enter the `vectorQuantizationMethod` parameter with the value for the desired method:

<Frame>![Vector quantization method configuration in an LWAI pipeline stage](/assets/images/5.9/vector-quantization-method-config.png)</Frame>

### Support for pre-filtering in the Chunking Neural Hybrid Query stage

For parity with the [Neural Hybrid Query stage](/fusion/5.9/mb500k/neural-hybrid-query-stage), the [Chunking Neural Hybrid Query Stage](/fusion/5.9/4klbo6/chunking-neural-hybrid-query-stage) now supports pre-filtering.

Pre-filtering can improve performance by reducing the number of chunks that need to be processed.
However, in some cases it can also lead to less accurate facet counts and search results.

Pre-filtering is blocked by default.
You can enable it by unchecking the **Block pre-filtering** checkbox in the Chunking Neural Hybrid Query stage configuration.

## Bug fixes

* Fixed misleading `DOWN` status on the `job-config` actuator health endpoint.

  Fusion 5.9.13 ensures accurate health reporting from the `/job-config/actuator/health` endpoint after ZooKeeper outages, reducing the risk of false alerts or unnecessary service restarts in monitored environments.
* Patched the Fabric8 client in `fusion-spark-3.2.2` to fix Kubernetes token refresh errors.

  Fusion 5.9.13 includes an updated version of the 3.2.2 Spark image that properly handles token refresh under Kubernetes OIDC authentication, improving compatibility and reliability for secure Spark workloads.
* Fixed an issue that blocked Web V2 connector jobs from restarting after failure.

  Fusion now clears any corrupted job state caused by interrupted connector jobs, allowing new crawl attempts to succeed.
  This resolves a critical error where subsequent jobs failed with `The state should never be null`, even after the connector was restored and the datasource was reset.
* Fixed Web connector indexing failure caused by corrupted job state

  Managed Fusion running 5.9.13 restores indexing functionality for the Webv2 connector (v2.0.1) by resolving an issue that caused a corrupted job state in the `connectors-backend` service.

  Jobs that previously failed with `The state should never be null` can now complete successfully.
* Fixed an issue that prevented schedule changes from persisting for some datasources.

  In Managed Fusion 5.9.12, clicking **Save** after configuring a new schedule for a datasource in the “Run” dialog could fail silently in certain apps, leaving the schedule unsaved with no warning to the user.
  This was due to a `job-config` handling issue that affected pre-existing app configurations.
  Managed Fusion 5.9.13 resolves this issue so that new schedules are reliably saved and acknowledged as expected.
* Fixed permission handling in the `job-config` service to ensure scheduled jobs run as expected.

  Fusion now correctly handles permission checks when creating or modifying scheduled jobs, preventing failures caused by mismatches between user and service account permissions.
  This resolves issues where job could not be scheduled or executed following upgrades.
* Helm charts now support Kubernetes secrets for TLS keystore passwords

  Managed Fusion 5.9.13 updates the Helm charts to eliminate the use of plaintext passwords for TLS keystores. Now the keystore password is managed using a Kubernetes secret, aligning with hardened OpenShift and enterprise security policies.
* Upgraded the Spring framework in the `web-apps` service to improve security and ensure compatibility with token authentication behavior on modern Kubernetes platforms.

## Deprecations and removals

For full details, see [Deprecations and Removals](/fusion/5.9/8855/deprecations-and-removals#removals).

### Hybrid Query pipeline stage

The [Hybrid Query pipeline stage](/fusion/5.9/fgbib5/hybrid-query-stage) is now deprecated.
Instead, use the [Neural Hybrid Query stage](/fusion/5.9/mb500k/neural-hybrid-query-stage), which combines lexical and vector search and includes improvements such as K-Nearest Neighbors (KNN), chunking, and more.

### Removed deprecated `X-XSS-Protection` header from session API responses

Managed Fusion 5.9.13 removes the deprecated `X-XSS-Protection` HTTP response header from the session API.
This header is no longer supported by modern browsers and has no effect on security behavior.
Its removal helps avoid confusion during security audits and aligns with current web security standards.

## Platform Support and Component Versions

### Kubernetes platform support

Lucidworks has tested and validated support for the following Kubernetes platform and versions:

* **Google Kubernetes Engine (GKE):** 1.29, 1.30, 1.31, 1.32

For more information on Kubernetes version support, see the [Kubernetes support policy](/policies/7shln5/lucidworks-version-support-lifecycle#kubernetes-support).

### Component versions

The following table details the versions of key components that may be critical to deployments and upgrades.

| Component | Version |
| --- | --- |
| **Solr** | fusion-solr 5.9.13  *(based on Solr 9.6.1)* |
| **ZooKeeper** | 3.9.1 |
| **Spark** | 3.4.1 |
| **Ingress Controllers** | Nginx, Ambassador (Envoy), GKE Ingress Controller |
| **Ray** | ray[serve] 2.42.1 |

More information about support dates can be found at [Lucidworks Fusion Product Lifecycle](/policies/7shln5/lucidworks-version-support-lifecycle).