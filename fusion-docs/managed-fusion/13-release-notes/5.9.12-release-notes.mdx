---
title: "Managed Fusion 5.9.12"
permalink: "rcp3rw"
---

Originally released on April 16, 2025 and re-released on May 14, 2025, this [maintenance release](/policies/7shln5/lucidworks-version-support-lifecycle#maintenance-release-support-policy) provides support for chunking in Lucidworks AI, model hosting with Ray, and important security upgrades and bug fixes.

<Note>
If you were upgraded to Managed Fusion 5.9.12 and rolled back to Managed Fusion 5.9.9, you will be upgraded to the re-released Managed Fusion 5.9.12.
This ensures you benefit from critical stability, security, and compatibility improvements included in the re-released version.
</Note>


<Tip>
For supported Kubernetes versions and key component versions, see [Platform support and component versions](#platform-versions).
</Tip>

## What’s new

### Improved relevance in large documents with chunking

Fusion 5.9.12 introduces document chunking, a major advancement for search and generative AI quality and performance. Chunking breaks large documents into smaller, meaningful segments—called chunks—that are stored and indexed using Solr’s block join capabilities. Each chunk captures either lexical content (for keyword-based search) or semantic vectors (for neural search), enabling Fusion to retrieve the most relevant part of a document, rather than treating the document as a single block.

This improves:

* **Search relevance**: Users get results that point to the most relevant sections within large documents, not just documents that match overall.
* **Neural search precision**: Vector chunks improve hybrid scoring by aligning semantic relevance with specific lexical content.
* **Scalability and maintainability**: Updates or deletions are applied at the chunk level, ensuring consistency and avoiding stale or orphaned content.
* **Faceted search and UX**: Results can be grouped and ranked more accurately, especially in use cases where dense documents contain multiple topics.

Document chunking is particularly valuable in knowledge management and technical content domains, where retrieving the right paragraph can be more important than retrieving the right document.

* A new [LWAI Chunker index pipeline stage](/managed-fusion/5.9/uiycyd/lwai-chunker-stage) uses one of the available chunking strategies (chunkers) for the specified LW AI model to provide optimized storage and retrieval. The chunkers asynchronously split the provided text in various ways such as by sentence, new line, semantics, and regular expression (regex) syntax.
* The [Chunking Neural Hybrid Query pipeline stage](/fusion/5.9/4klbo6/chunking-neural-hybrid-query-stage) now detects chunked documents and retrieves the most relevant lexical and vector segments for hybrid search.
* Updates and deletions now ensure consistent chunk synchronization to prevent orphaned data.
* This feature includes a new [Lucidworks AI Async Chunking API](/lw-platform/ai/fpqd94/async-chunking-api).

Click **Get Started** below to see how to enable chunking in Fusion:

{/* <iframe src="https://app.supademo.com/embed/cmbjyucmh00j9xu0j0vmhkoum?embed_v=2" loading="lazy" title="Enable chunking in Fusion" allow="clipboard-write" frameborder="0" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe> */}

<Note>
Contact your Lucidworks account manager to confirm that your license includes this feature.
</Note>



### Model hosting with Ray

Managed Fusion 5.9.12 introduces support for model hosting with Ray, replacing the previous Seldon-based approach. Ray offers a more scalable and efficient architecture for serving machine learning models, with native support for distributed inference, autoscaling, and streamlined deployment. This transition simplifies Managed Fusion’s AI infrastructure, enhances performance, and aligns with modern MLOps practices to make deploying and managing models faster, more reliable, and easier to monitor.

For more information, see [Develop and deploy a machine learning model with Ray](/how-to/yniv8h/develop-and-deploy-a-machine-learning-model-with-ray).

* The Seldon vectorize stages have been renamed to [Ray/Seldon Vectorize Field](/fusion/5.9/wpkxmb/seldon-vectorize-field-stage) and [Ray/Seldon Vectorize Query](/fusion/5.9/33ccfb/seldon-vectorize-query-stage).
* There are two new jobs for deploying models with Ray:

  + [Create Ray Deployment](/managed-fusion/5.9/kqmqh1/create-ray-model-deployment).
  + [Delete Ray Deployment](/managed-fusion/5.9/5hwa5p/delete-ray-model-deployment).

<Tip>
If you previously deployed a model with Seldon, you can deploy the same model with Ray.
Just follow the instructions in [Develop and deploy a machine learning model with Ray](/how-to/yniv8h/develop-and-deploy-a-machine-learning-model-with-ray), and deploy the model with a different name to avoid conflicts.
When you have verified that the model is working after deployment with Ray, you can delete the Seldon model using the [Delete Seldon Core Model Deployment job](/fusion/5.9/584/delete-seldon-core-model-deployment-job).
</Tip>



### AI and machine learning features

Managed Fusion’s machine learning services now run on Python 3.10 and Java 11, bringing improved performance, security, and compatibility with the latest libraries.
These upgrades enhance model execution speed, memory efficiency, and long-term support, ensuring Managed Fusion’s machine learning capabilities remain optimized for your evolving AI workloads.
No configuration changes are required to take advantage of these improvements.

### Improved prefiltering support for Neural Hybrid Search (NHS)

Managed Fusion 5.9.12 introduces a more robust prefiltering strategy for Neural Hybrid Search, including support for chunked document queries. The new approach ensures that security filters and other constraints are applied consistently and efficiently to KNN queries—improving precision, maintaining performance, and avoiding previous compatibility issues with Solr query syntax.

## Bug fixes

* Fixed an issue where ConfigSync removed job schedules during upgrade.

  In some cases, upgrading to Managed Fusion 5.9.11 could result in ConfigSync removing job schedules from the cluster without consistently reapplying them, leading to missing or disabled schedules post-upgrade.
  Managed Fusion 5.9.12 resolves this issue, ensuring job schedules remain intact across upgrades and ConfigSync behaves predictably in all environments.
* Fixed incorrect image repository for Solr in Helm charts.

  In Managed Fusion 5.9.11, the Helm chart specified an internal Lucidworks Artifactory repository for the Solr image.
  This has been corrected in 5.9.12 so the Solr image repository is either empty or points to `lucidworks/fusion-solr`, aligning with other components and simplifying deployment for external environments.
* Added support for configuring the Spark version used by Fusion.

  Managed Fusion 5.9.12 now lets your choose whether to use Spark 3.4.1 (introduced in Fusion 5.9.10) or the earlier Spark 3.2.2 version used in Fusion 5.9.9.
  This flexibility helps maintain compatibility with legacy Python (3.7.3) and Scala environments, especially for apps that depend on specific Spark runtime behaviors.

  When Spark 3.4.1 is enabled, custom Python jobs require Python 3.10.
  Contact Lucidworks to request Spark 3.2.2 for your Managed Fusion deployment.
* Fixed incorrect `started-by` values for datasource jobs in the job history.

  In previous versions, datasource jobs started from the Managed Fusion UI were incorrectly shown as started by `default-subject` instead of the actual user.
  Managed Fusion now correctly records and displays the initiating user in the job history, restoring accurate audit information for datasource operations.
* Fixed a schema loading issue that prevented older apps from working with the Schema API.

  Managed Fusion now correctly handles both `managed-schema` and `managed-schema.xml` files when reading Solr config sets, ensuring backward compatibility with apps created before the move to template-based config sets.
  This prevents Schema API failures caused by unhandled exceptions during schema file lookup.
* Scheduled jobs now correctly trigger dependent jobs.

  In Managed Fusion 5.9.12, we fixed an issue that prevented scheduled jobs from triggering other jobs based on their success or failure status.
  This includes jobs configured to run “on_success_or_failure” or using the “Start + Interval” option.
  With this fix, dependent jobs now execute as expected, restoring reliable job chaining and scheduling workflows.
* Fixed an issue that prevented updates to existing scheduled job triggers in the Schedulers view.

  This bug was caused by inconsistencies in how the API returned UTC timestamps, particularly for times after 12:00 UTC. The Admin UI now correctly detects changes and allows updates to trigger times without requiring the entry to be deleted and recreated.
* Improved reliability of scheduled jobs in the `job-config` service.

  This release resolves several issues that could interfere with job scheduling and history visibility in Managed Fusion environments:

  + Stronger recovery from infrastructure interruptions: Ensures the scheduler recovers if all `job-config` pods briefly lose connection to ZooKeeper.
  + Correct permission handling: Fixes cases where jobs could not be scheduled due to mismatches between user permissions and service account behavior.
  + Restored visibility of system job history: Fixes an issue where system jobs such as delete-old-system-logs and delete-old-job-history were missing from the UI despite running normally in the background.
  + Reliable schedule creation in all app states: Fixes an issue where adding a new schedule from the Run dialog appeared to succeed but did not persist the configuration in some apps.
* Fixed a simulation failure in the Index Workbench when configuring new datasources.

  Managed Fusion 5.9.12 resolves an issue where Index Workbench failed to simulate results after configuring a new datasource, displaying the error “Failed to simulate results from a working pipeline.”
  This fix restores full functionality to the Index Workbench, allowing you to preview and configure indexing workflows in one place without switching between multiple views.
* Fixed a bug that caused aborted jobs to appear twice in the job history.

  Previously, when you manually aborted a job, it was recorded twice in the job history.
  This duplication has been resolved, and each aborted job now appears only once in the history log.
* Fixed an issue that prevented segment-based rule filtering from working correctly in Commerce Studio. Managed Fusion now honors the `lw.rules.target_segment` parameter, ensuring only matching rules are triggered and improving rule targeting and safety.
* This release eliminates extra warning messages in the API Gateway related to undetermined service ports. Previously, the gateway logged repeated warnings about missing `primary-port-name` labels, even though this did not impact functionality. This fix reduces unnecessary log noise and improves the clarity of your logs.

## Known issues

* Jobs for Web V2 connectors may fail to start after an earlier failure.

  If a Web V2 connector job is interrupted—such as by scaling down the connector pod—the system may enter a corrupted state.
  Even after clearing and recreating the datasource, new jobs may fail with the error `The state should never be null`.

  This issue is fixed in Fusion 5.9.13.

* The `fusion-spark-3.2.2` image in Fusion 5.9.12 may fail to refresh Kubernetes tokens correctly.

  In Managed Fusion 5.9.12 environments, Spark jobs that rely on token-based authentication can fail due to a Fabric8 client bug in the 3.2.2 Spark image.
  This may impact the stability or execution of long-running jobs.

  This issue is fixed in Fusion 5.9.13.

* The `job-config` service may incorrectly report a `DOWN` status via `/actuator/health` even when running normally.

  When TLS is enabled and ZooKeeper is unavailable for an extended period, the `job-config` service may resume normal operation but continue to report `DOWN` on the actuator health endpoint, despite readiness and liveness probes reporting `UP`.

  This issue is fixed in Fusion 5.9.13.

* Web connector may fail to index due to corrupted job state

  Managed Fusion running 5.9.12 may fail to index with the Webv2 connector (v2.0.1) due to a corrupted job state in the `connectors-backend` service.

  Affected jobs log the error `The state should never be null`, and common remediation steps like deleting the datasource or reinstalling the connector plugin may not resolve the issue.
  The issue is fixed in Managed Fusion 5.9.13.

* Saving new datasource schedules may fail silently.

  In some Managed Fusion 5.9.12 environments, clicking **Save** when adding a schedule from the datasource “Run” dialog does not persist the schedule or show an error message, particularly in apps created before the upgrade.
  As a workaround, use a new app or manually verify that the job configuration was saved.
  This issue is fixed in Managed Fusion 5.9.13.

## Removals

For full details on removals, see [Deprecations and Removals](/managed-fusion/5.9/dv9ib2/deprecations-and-removals#removals).

* The Tika Server Parser is removed in this release.

  Use the [Tika Asynchronous Parser](/managed-fusion/5.9/ve1qvp/asynchronous-tika-parsing) instead. Asynchronous Tika parsing performs parsing in the background. This allows Managed Fusion to continue indexing documents while the parser is processing others, resulting in improved indexing performance for large numbers of documents.
* MLeap is removed from the `ml-model` service. MLeap was deprecated in Managed Fusion 5.2.0 and was no longer used by Managed Fusion.

## Platform Support and Component Versions

### Kubernetes platform support

Lucidworks has tested and validated support for the following Kubernetes platform and versions:

* **Google Kubernetes Engine (GKE):** 1.29, 1.30, 1.31

For more information on Kubernetes version support, see the [Kubernetes support policy](/policies/7shln5/lucidworks-version-support-lifecycle#kubernetes-support).

### Component versions

The following table details the versions of key components that may be critical to deployments and upgrades.

| Component | Version |
| --- | --- |
| **Solr** | fusion-solr 5.9.12  *(based on Solr 9.6.1)* |
| **ZooKeeper** | 3.9.1 |
| **Spark** | 3.4.1 |
| **Ingress Controllers** | Nginx, Ambassador (Envoy), GKE Ingress Controller |
| **Ray** | ray[serve] 2.42.1 |

More information about support dates can be found at [Lucidworks Fusion Product Lifecycle](/policies/7shln5/lucidworks-version-support-lifecycle).