---
title: "HTML"
description: "Parser stage configuration specifications"
permalink: "rcjl69"
---

This parser stage processes the following HTML elements:

* `<title>`
* `<body>` (with tags removed)
* `<meta>`
* `<a>` and `<link>`

Additionally, you can configure [JSoup selectors](https://jsoup.org/cookbook/extracting-data/) to extract specific HTML and CSS elements from a document and map them to PipelineDocument fields.
For example, you could use this to process navigational `DIV` elements one way, then process content-ful `DIV` elements another way.

HTML Parser Stage supports jsoup selector methods by allowing the following special attribute values starting with `.` in `HtmlMappingRule`:

* `.text`: [jsoup Element text method](https://jsoup.org/apidocs/org/jsoup/nodes/Element.html#text%28%29)
* `.ownText`: [jsoup Element ownText method](https://jsoup.org/apidocs/org/jsoup/nodes/Element.html#ownText%28%29)
* `.html`: [jsoup Element html method](https://jsoup.org/apidocs/org/jsoup/nodes/Element.html#html%28%29)
* `.outerHtml`: [jsoup Element outerHtml method](https://jsoup.org/apidocs/org/jsoup/nodes/Node.html#outerHtml%28%29)
* `.data`: [jsoup Element data method](https://jsoup.org/apidocs/org/jsoup/nodes/Element.html#data%28%29)

<Note>
The HTML Transformation index pipeline stage is deprecated in favor of this parser stage.
</Note>

HTML and CSS elements can be selected for extraction into new documents or fields:

* To create new documents from selected elements, configure `recordSelector`.
* To create new fields from selected elements, configure `mappings`.

Title, body, metadata, and links are only populated in the parent document. Both of these parameters support [JSoup selectors](https://jsoup.org/cookbook/extracting-data/), which provides a rich syntax for selecting HTML and CSS elements.

<Tip>
When entering configuration values in the UI, use *unescaped* characters, such as `\t` for the tab character. When entering configuration values in the API, use *escaped* characters, such as `\\t` for the tab character.
</Tip>

## HTML content extraction

The Context Extraction setting in the HTML Parser has a special meaning.

By default, when unchecked or false, the HTML parser will essentially attempt to extract the text of the entire HTML page as the text that will be used in the Solr document.

However, when Content Extract is checked, or true, a set of heuristic rules are applied to attempt to automatically determine what node in the entire page is most likely to be the page content, based on the tree of nodes inside it and the text component of all the sub-nodes.

This may be helpful when you have a variety of different page formats, and also significant text on the pages which is not useful to add to the documents, such as significant text in the page header or footer.

However, since the algorithm is based on heuristics , it is possible that the results could change as the site is altered. When you need a high degree of certainty, we recommend that you use explicit rules of which nodes to extract to match your local configuration.

import {SchemaParamFields} from "/snippets/SchemaParamFields.mdx";
import {schema} from "/snippets/configuration-schema/5_9/parsers/html.mdx";

<SchemaParamFields schema={schema}/>