export const schema = {
  "type": "object",
  "title": "Solr Indexer",
  "description": "This stage sends documents to Solr",
  "properties": {
    "skip": {
      "type": "boolean",
      "title": "Skip This Stage",
      "description": "Set to true to skip this stage.",
      "default": false,
      "hints": [
        "advanced"
      ]
    },
    "label": {
      "type": "string",
      "title": "Label",
      "description": "A unique label for this stage.",
      "hints": [
        "advanced"
      ],
      "maxLength": 255
    },
    "condition": {
      "type": "string",
      "title": "Condition",
      "description": "Define a conditional script that must result in true or false. This can be used to determine if the stage should process or not.",
      "hints": [
        "code",
        "code/javascript",
        "advanced"
      ]
    },
    "enforceSchema": {
      "type": "boolean",
      "title": "Map to Solr Schema",
      "default": true
    },
    "fieldsList": {
      "type": "boolean",
      "title": "Add a field listing all document fields",
      "description": "Adds a multi-valued field to the document, _lw_fields_ss, which lists all fields that are being sent to Solr",
      "default": true
    },
    "dateFormats": {
      "type": "array",
      "title": "Additional Date Formats",
      "hints": [
        "advanced"
      ],
      "items": {
        "type": "string"
      }
    },
    "params": {
      "type": "array",
      "title": "Additional Update Request Parameters",
      "hints": [
        "advanced"
      ],
      "items": {
        "type": "object",
        "required": [
          "key"
        ],
        "properties": {
          "key": {
            "type": "string",
            "title": "Parameter Name"
          },
          "value": {
            "type": "string",
            "title": "Parameter Value"
          }
        }
      }
    },
    "bufferDocsForSolr": {
      "type": "boolean",
      "title": "Buffer Documents and Send Them to Solr in Batches",
      "default": true,
      "hints": [
        "advanced"
      ]
    },
    "bufferSize": {
      "type": "integer",
      "title": "Buffer Size",
      "description": "If buffering documents to Solr, keep at most this many documents in the buffer before sending to Solr. If left empty, the default value for this Search Cluster will be used.",
      "hints": [
        "advanced"
      ]
    },
    "bufferFlushInterval": {
      "type": "integer",
      "title": "Buffer Flush Interval (milliseconds)",
      "description": "If buffering documents to Solr, keep documents in the buffer for at most this long before sending to Solr. If left empty, the default value for this Search Cluster will be used.",
      "hints": [
        "advanced"
      ]
    },
    "allowBlacklistedRequestParameters": {
      "type": "boolean",
      "title": "Allow expensive request parameters",
      "description": "Allow commit=true and optimize=true to be passed to Solr when specified as request parameters coming into this pipeline. Note that document commands specifying commit or optimize will still be respected even with this setting set to false.",
      "default": false,
      "hints": [
        "advanced"
      ]
    },
    "unmapped": {
      "type": "object",
      "title": "Unmapped Fields Mapping",
      "required": [
        "source"
      ],
      "properties": {
        "source": {
          "type": "string",
          "title": "Source Field",
          "description": "The name of the field to be mapped.",
          "hints": [
            "advanced"
          ]
        },
        "target": {
          "type": "string",
          "title": "Target Field",
          "description": "The name of the field to be mapped to.",
          "hints": [
            "advanced"
          ]
        },
        "operation": {
          "type": "string",
          "title": "Operation",
          "description": "The type of mapping to perform: move, copy, delete, add, set, or keep.",
          "enum": [
            "copy",
            "move",
            "set",
            "add",
            "delete",
            "keep"
          ],
          "default": "copy",
          "hints": [
            "advanced"
          ]
        }
      },
      "hints": [
        "advanced"
      ]
    }
  },
  "category": "Indexing",
  "categoryPriority": 5,
  "unsafe": false
}
